# Config Directory

## Overview
Директория `config` содержит файлы конфигурации и код для их загрузки. Здесь определяются все настройки приложения, включая параметры сервера, базы данных, Kafka и алгоритмов обработки данных.

## Файлы

### config.go
Файл содержит код для загрузки и валидации конфигурации:
- Структуры для хранения конфигурационных параметров
- Функцию `LoadConfig()` для чтения конфигурации из файла
- Валидацию конфигурационных параметров
- Подстановку переменных окружения в конфигурацию

### config.yaml
YAML-файл с конфигурационными параметрами:
- **server**: Настройки HTTP-сервера (порт, таймауты)
- **logger**: Настройки логирования (уровень, формат)
- **database**: Настройки подключения к PostgreSQL (DSN, пулы соединений)
- **kafka**: Настройки Kafka (брокеры, топики, группы, параметры консьюмера и продюсера)
- **data_preprocessing**: Настройки предобработки данных (очистка, расчет метрик)
- **segmentation**: Настройки алгоритмов сегментации пользователей
- **survival_analysis**: Настройки анализа выживаемости для прогнозирования оттока
- **state_transition**: Настройки для анализа переходов между состояниями
- **retention_prediction**: Настройки для прогнозирования удержания пользователей
- **clv_updater**: Настройки для расчета пожизненной ценности клиента (CLV)
- **reporting_api**: Настройки API для отчетности

## Использование
Конфигурация загружается при запуске приложения в файле `cmd/main.go`:
```go
config, err := config.LoadConfig("./config/config.yaml")
if err != nil {
    log.Fatalf("Failed to load configuration: %v", err)
}
```

## Переменные окружения
В конфигурации поддерживается подстановка переменных окружения в формате `${VARIABLE_NAME}`. Например:
```yaml
database:
  dsn: "postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=disable"
```

Это позволяет изменять конфигурацию без модификации файла config.yaml, что особенно полезно при развертывании в контейнерах или Kubernetes.